<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR Experience</title>
  
  <script src="../js/aframe.min.js"></script>
  <script src="../js/aframe-ar.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .arjs-loader {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px 40px;
      border-radius: 20px;
      text-align: center;
      z-index: 10000;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }

    .loader-text {
      font-size: 1.2em;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .status-display {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #4F46E5 0%, #4338CA 100%);
      color: white;
      padding: 12px 24px;
      border-radius: 25px;
      font-weight: 600;
      z-index: 9999;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      font-size: 0.9em;
    }

    .detection-info {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 0.85em;
      z-index: 9999;
    }

    .scan-frame {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 280px;
      height: 280px;
      pointer-events: none;
      border: 2px solid rgba(118, 185, 0, 0.5);
      border-radius: 10px;
      animation: pulse 2s infinite;
      z-index: 100;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    .scan-corner {
      position: absolute;
      width: 40px;
      height: 40px;
      border: 3px solid #76B900;
    }

    .scan-corner.top-left {
      top: 0; left: 0;
      border-right: none; border-bottom: none;
    }

    .scan-corner.top-right {
      top: 0; right: 0;
      border-left: none; border-bottom: none;
    }

    .scan-corner.bottom-left {
      bottom: 0; left: 0;
      border-right: none; border-top: none;
    }

    .scan-corner.bottom-right {
      bottom: 0; right: 0;
      border-left: none; border-top: none;
    }
  </style>
</head>

<body>

<div class="arjs-loader" id="loader">
  <div class="loader-text">⏳ Iniciando cámara AR...</div>
  <div>Prepara tus marcadores personalizados</div>
</div>

<div class="status-display" id="status">
  Buscando marcadores...
</div>

<div class="detection-info" id="detection-info">
  Marcadores detectados: 0
</div>

<div class="scan-frame" id="scanFrame" style="display: none;">
  <div class="scan-corner top-left"></div>
  <div class="scan-corner top-right"></div>
  <div class="scan-corner bottom-left"></div>
  <div class="scan-corner bottom-right"></div>
</div>

<a-scene
  embedded
  vr-mode-ui="enabled: false"
  renderer="logarithmicDepthBuffer: true; antialias: true; colorManagement: true; sortObjects: true;"
  arjs="sourceType: webcam; 
        debugUIEnabled: false; 
        detectionMode: mono_and_matrix; 
        trackingMethod: best;
        maxDetectionRate: 90;
        canvasWidth: 640;
        canvasHeight: 480;"
  id="ar-scene"
>
  <!-- Los marcadores se cargarán dinámicamente -->
  
  <a-entity camera></a-entity>
</a-scene>

<script src="../js/marker-loader.js"></script>

</body>
</html>
