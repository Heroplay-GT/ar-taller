<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" text="Volver"></ion-back-button>
    </ion-buttons>
    <ion-title>Vista AR</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ar-content">
  <div class="ar-container">
    <!-- Reverted to preset markers (hiro, kanji) for compatibility with existing physical markers -->
    <a-scene
      id="arScene"
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; maxDetectionRate: 60;"
      renderer="logarithmicDepthBuffer: true; precision: medium;"
    >
      <!-- Hiro marker - Blue circle -->
      <a-marker preset="hiro" id="marker-hiro">
        <a-circle
          position="0 0 0"
          rotation="-90 0 0"
          radius="0.5"
          color="#4F46E5">
        </a-circle>
      </a-marker>

      <!-- Kanji marker - Cyan square -->
      <a-marker preset="kanji" id="marker-kanji">
        <a-plane
          position="0 0 0"
          rotation="-90 0 0"
          width="1"
          height="1"
          color="#06B6D4">
        </a-plane>
      </a-marker>

      <!-- Letter A marker - Green triangle -->
      <a-marker preset="letterA" id="marker-letterA">
        <a-triangle
          position="0 0 0"
          rotation="-90 0 0"
          vertex-a="0 0.5 0"
          vertex-b="-0.5 -0.5 0"
          vertex-c="0.5 -0.5 0"
          color="#76B900">
        </a-triangle>
      </a-marker>

      <!-- Letter B marker - Red hexagon -->
      <a-marker preset="letterB" id="marker-letterB">
        <a-ring
          position="0 0 0"
          rotation="-90 0 0"
          radius-inner="0.2"
          radius-outer="0.5"
          segments-theta="6"
          color="#EF4444">
        </a-ring>
      </a-marker>

      <!-- Letter C marker - Purple torus -->
      <a-marker preset="letterC" id="marker-letterC">
        <a-torus
          position="0 0 0"
          rotation="-90 0 0"
          radius="0.4"
          radius-tubular="0.1"
          color="#A855F7">
        </a-torus>
      </a-marker>

      <!-- Letter D marker - Orange octagon -->
      <a-marker preset="letterD" id="marker-letterD">
        <a-ring
          position="0 0 0"
          rotation="-90 0 0"
          radius-inner="0.15"
          radius-outer="0.5"
          segments-theta="8"
          color="#F97316">
        </a-ring>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </div>

  <div class="ar-overlay">
    <div class="ar-hint">
      <ion-icon name="scan-outline"></ion-icon>
      <p>Apunta la cámara hacia los marcadores</p>
      <p class="hint-small">Detecta múltiples marcadores a la vez</p>
    </div>
  </div>
</ion-content>
